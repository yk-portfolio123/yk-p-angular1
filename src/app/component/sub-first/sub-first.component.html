<button nz-button nzType="primary" nzSize="small" (click)="showModal()" style="margin-bottom: 8px;">
    <span nz-icon nzType="setting" nzTheme="outline"></span>
  </button>
  <nz-table #basicTable [nzData]="listOfData">
    <thead>
      <tr>
        <th *ngFor="let column of title" [ngStyle]="{ width: column.width + 'px' }">{{ column.name }}</th>
        <th *ngFor="let column of fix" [ngStyle]="{ width: column.width + 'px' }">{{ column.name }}</th>
        <th *ngFor="let column of footer" [ngStyle]="{ width: column.width + 'px' }">{{ column.name }}</th>
        <th *ngFor="let column of notFix" [ngStyle]="{ width: column.width + 'px' }">{{ column.name }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let data of basicTable.data">
        <td *ngFor="let column of title">{{ data[column.value] }}</td>
        <td *ngFor="let column of fix">{{ data[column.value] }}</td>
        <td *ngFor="let column of footer">{{ data[column.value] }}</td>
        <td *ngFor="let column of notFix">{{ data[column.value] }}</td>
      </tr>
    </tbody>
  </nz-table>

  <nz-modal [(nzVisible)]="isVisible" nzTitle="Custom Column" (nzOnCancel)="handleCancel()" (nzOnOk)="handleOk()">
    <ng-container *nzModalContent>
      <div nz-row [nzGutter]="24">
        <div nz-col class="gutter-row" [nzSpan]="12">
          <div class="example-container">
            <p>Displayed (drag and drop to sort)</p>
            <div class="example-box" *ngFor="let item of title">
              {{ item.name }}
            </div>
            <div
              cdkDropList
              #todoList="cdkDropList"
              [cdkDropListData]="fix"
              [cdkDropListConnectedTo]="[doneList]"
              class="example-list"
              (cdkDropListDropped)="drop($event)"
            >
              <div class="example-box" *ngFor="let item of fix; let i = index" cdkDrag>
                {{ item.name }}
                <span nz-icon nzType="minus-circle" nzTheme="outline" (click)="deleteCustom(item, i)"></span>
              </div>
            </div>
            <div class="example-box" *ngFor="let item of footer">
              {{ item.name }}
            </div>
          </div>
        </div>
        <div nz-col class="gutter-row" [nzSpan]="12">
          <div class="example-container">
            <p>Not Shown</p>
            <div
              cdkDropList
              #doneList="cdkDropList"
              [cdkDropListData]="notFix"
              [cdkDropListConnectedTo]="[todoList]"
              class="example-list"
              (cdkDropListDropped)="drop($event)"
            >
              <div class="example-box" *ngFor="let item of notFix; let i = index" cdkDrag>
                {{ item.name }}
                <span nz-icon nzType="plus-circle" nzTheme="outline" (click)="addCustom(item, i)"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
</nz-modal>